#pragma checksum "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml" "{8829d00f-11b8-4213-878b-770e8597ac16}" "f279d1eaaccd5d6d7e3c8a6acf1421123ec03b5b468ecfa1cde2315abc6280d5"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Admin_Views_Account_UserProfile), @"mvc.1.0.view", @"/Areas/Admin/Views/Account/UserProfile.cshtml")]
namespace AspNetCore
{
    #line hidden
    using global::System;
    using global::System.Collections.Generic;
    using global::System.Linq;
    using global::System.Threading.Tasks;
    using global::Microsoft.AspNetCore.Mvc;
    using global::Microsoft.AspNetCore.Mvc.Rendering;
    using global::Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA256", @"f279d1eaaccd5d6d7e3c8a6acf1421123ec03b5b468ecfa1cde2315abc6280d5", @"/Areas/Admin/Views/Account/UserProfile.cshtml")]
    #nullable restore
    public class Areas_Admin_Views_Account_UserProfile : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
  
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Profile";
    string role = Model.Role[0].ToString().ToUpper() + Model.Role.Substring(1);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<!-- Content Header (Page header) -->
<section class=""content-header"">
    <h1>
    User Profile
    </h1>
    <ol class=""breadcrumb"">
    <li><a href=""/Admin/Index""><i class=""fa fa-dashboard""></i> Home</a></li>
    <li class=""active"">User profile</li>
    </ol>
</section>

<!-- Main content -->
<section class=""content"">
    <div class=""row"">
        <div class=""col-md-3"">
            <!-- Profile Image -->
            <div class=""box box-primary"">
            <div class=""box-body box-profile"">
                <img class=""profile-user-img img-responsive img-circle""");
            BeginWriteAttribute("src", " src=\"", 749, "\"", 772, 1);
#nullable restore
#line 24 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
WriteAttributeValue("", 755, Model.AvatarPath, 755, 17, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" id=\"image-avatar\" alt=\"User profile picture\" style=\"width:100px; height:100px\">\n\n                <h3 class=\"profile-username text-center\">");
#nullable restore
#line 26 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
                                                    Write(Model.FirstName);

#line default
#line hidden
#nullable disable
            WriteLiteral(" ");
#nullable restore
#line 26 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
                                                                     Write(Model.LastName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h3>\n\n                <p class=\"text-muted text-center\">");
#nullable restore
#line 28 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
                                             Write(role);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</p>
                <button class=""btn btn-primary btn-block"" id=""change-avatar""><b>Thay đổi avatar</b></button>
                <input type=""file"" name=""fileUpload"" id=""exampleInputFile"" style=""display:none;"">
            </div>
            <!-- /.box-body -->
            </div>
        </div>
        <!-- /.col -->
        <div class=""col-md-9"">
            <div class=""nav-tabs-custom"">
            <ul class=""nav nav-tabs"">
                <li class=""active""><a href=""#settings"" data-toggle=""tab"">Setting</a></li>
            </ul>
            <div class=""tab-content"">
                <div class=""tab-pane active"" id=""settings"">
                <form class=""form-horizontal"" method=""post"" action=""/Admin/Account/UserProfile"">
                    <input type=""text"" name=""account""");
            BeginWriteAttribute("value", " value=\"", 1793, "\"", 1815, 1);
#nullable restore
#line 44 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
WriteAttributeValue("", 1801, Model.Account, 1801, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" hidden />
                    <div class=""form-group"">
                        <label for=""inputName"" class=""col-sm-2 control-label"">Họ</label>
                        <div class=""col-sm-10"">
                            <input type=""text"" name=""firstname"" class=""form-control"" placeholder=""Name""");
            BeginWriteAttribute("value", " value=\"", 2112, "\"", 2136, 1);
#nullable restore
#line 48 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
WriteAttributeValue("", 2120, Model.FirstName, 2120, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                        </div>
                    </div>
                    <div class=""form-group"">
                        <label for=""inputEmail"" class=""col-sm-2 control-label"">Tên</label>
                        <div class=""col-sm-10"">
                            <input type=""text"" class=""form-control"" name=""lastname""");
            BeginWriteAttribute("value", " value=\"", 2464, "\"", 2487, 1);
#nullable restore
#line 54 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
WriteAttributeValue("", 2472, Model.LastName, 2472, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                        </div>
                    </div>
                    <div class=""form-group"">
                        <label for=""inputName"" class=""col-sm-2 control-label"">Số điện thoại</label>

                        <div class=""col-sm-10"">
                            <input type=""text"" class=""form-control"" name=""phone"" placeholder=""Tel""");
            BeginWriteAttribute("value", " value=\"", 2840, "\"", 2860, 1);
#nullable restore
#line 61 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
WriteAttributeValue("", 2848, Model.Phone, 2848, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                        </div>
                    </div>
                    <div class=""form-group"">
                        <label for=""inputExperience"" class=""col-sm-2 control-label"">Email</label>
                        <div class=""col-sm-10"">
                            <input type=""email"" class=""form-control"" name=""email"" placeholder=""Email""");
            BeginWriteAttribute("value", " value=\"", 3213, "\"", 3233, 1);
#nullable restore
#line 67 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
WriteAttributeValue("", 3221, Model.Email, 3221, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                        </div>
                    </div>
                    <div class=""form-group"">
                        <label for=""exampleInputEmail1"" class=""col-md-2 control-label"">Chức vụ</label>
                        <div class=""col-md-10"">
                            <input type=""text"" name=""role"" id=""acc-role""");
            BeginWriteAttribute("value", " value=\"", 3562, "\"", 3581, 1);
#nullable restore
#line 73 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
WriteAttributeValue("", 3570, Model.Role, 3570, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" hidden />
                            <select id=""select-role"" class=""form-control select2"" style=""width: 100%;"">
                                <option value=""admin"">Admin</option>
                                <option value=""staff"">Nhân viên</option>
                                <option value=""collaborator"">Cộng tác viên</option>
                                <option value=""customer"">Khách hàng</option>
                            </select>
                        </div>
                    </div>
                    <div class=""form-group"">
                        <div class=""col-sm-offset-2 col-sm-10"">
                            <button type=""submit"" class=""btn btn-danger"" id=""edit-pro5"">Chỉnh sửa</button>
                        </div>
                    </div>
                </form>
                </div>
                <!-- /.tab-pane -->
            </div>
            <!-- /.tab-content -->
            </div>
            <!-- /.nav-tabs-custom -->
        </div>
        <!-- /.col -->
   ");
            WriteLiteral("     </div>\n        <!-- /.row -->\n    </section>\n<!-- /.content -->\n\n");
            DefineSection("Scripts", async() => {
                WriteLiteral("\n    <script>\n        $(\'#edit-pro5\').on(\'click\', function(){\n            alert(\"Chỉnh sửa thông tin cá nhân thành công!\");\n        });\n\n        let oldAvatarId = ");
#nullable restore
#line 107 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
                     Write(Html.Raw(Model.AvatarId));

#line default
#line hidden
#nullable disable
                WriteLiteral(@";
        console.log(oldAvatarId)
        $('#change-avatar').on('click',  function() {
            $('input[name=""fileUpload""]').trigger('click');
        });
            
        $(document).on('change', 'input[name=""fileUpload""]', function() {
            let files = $(this).prop(""files"");
            let formData = new FormData();
            formData.append(""file"", files[0]);
            $.ajax({
                url: ""/admin/account/uploadfile"",
                type: ""POST"",
                data: formData,
                contentType: false,
                processData: false,
                beforeSend: () => {

                },
                success: res => {
                    $('#image-avatar').attr('src', res.filePath);
                    console.log(res);
                    UpdateAvatarImage(oldAvatarId, res.id)
                },
                error: error => {
                    console.log(error);
                }
            })
        });

        function UpdateAvatarImage(oldId, ");
                WriteLiteral("newId){\n            $.ajax({\n                url: \"/Admin/Account/UpdateAvatar?account=\" + \'");
#nullable restore
#line 139 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
                                                          Write(Model.Account);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"' + ""&&oldId="" + oldId + ""&&newId="" + newId,
                type: ""get"",
                contentType: false,
                processData: false,
                beforeSend: () => {

                },
                success: res => {
                    console.log(""success"");
                    location.reload();
                },
                error: error => {
                    console.log(error);
                }
            })
        }

        const value = document.cookie;
        const parts = value.split('=');
        $(""#select-role"").val(""");
#nullable restore
#line 158 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
                          Write(Model.Role);

#line default
#line hidden
#nullable disable
                WriteLiteral("\");\n        if (parts[1] != \'");
#nullable restore
#line 159 "D:\Subjects\PMMNM\BanTraiCay\AppManager\Areas\Admin\Views\Account\UserProfile.cshtml"
                    Write(Model.Account);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"' && parts[1] != 'admin'){
            $(""form :input"").prop('readonly', true);
            $(""#edit-pro5"").prop('disabled', true);
            $(""#change-avatar"").prop('disabled', true);
            $(""#select-role"").prop('disabled', true);
        }
        if (parts[1] != 'admin'){
            $(""#select-role"").prop('disabled', true);
        }

        $('#select-role').on('change', function(){
            let role = $(""#select-role"").val();
            $('#acc-role').val(role);
        });
    </script>
");
            }
            );
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
